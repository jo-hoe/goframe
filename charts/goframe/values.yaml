image:
  # -- Container image repository
  repository: ghcr.io/jo-hoe/goframe
  # -- Image pull policy
  pullPolicy: IfNotPresent
  # -- Overrides the image tag whose default is the chart appVersion.
  tag: ""

# -- Secrets to use for pulling images (for private registries)
imagePullSecrets: []
# -- Partially override the chart name
nameOverride: ""
# -- Fully override the release name
fullnameOverride: ""

# -- Number of desired pod replicas
replicaCount: 1

serviceAccount:
  # -- Specifies whether a service account should be created
  create: true
  # -- Automatically mount a ServiceAccount's API credentials
  automount: true
  # -- Annotations to add to the service account
  annotations: {}
  # -- The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

# -- Annotations to add to the Pod
podAnnotations: {}
# -- Additional labels to add to the Pod
podLabels: {}

# -- Pod-level security context
podSecurityContext: {}
  # fsGroup: 2000

# -- Container-level security context
securityContext: {}
  # capabilities:
  #   drop:
  #   - ALL
  # readOnlyRootFilesystem: true
  # runAsNonRoot: true
  # runAsUser: 1000

service:
  # -- Kubernetes Service type
  type: ClusterIP
  # -- Service port
  port: 80
  # -- Target container port exposed by the application
  targetPort: 8080

ingress:
  # -- Enable Ingress
  enabled: false
  # -- IngressClass name
  className: ""
  # -- Annotations to add to the Ingress
  annotations: {}
  # -- Ingress host definitions
  hosts:
    - host: goframe.local
      paths:
        - path: /
          pathType: Prefix
  # -- TLS configuration for the Ingress
  tls: []

# -- Resource requests and limits for the container
resources: {}
  # Example:
  # limits:
  #   cpu: 200m
  #   memory: 256Mi
  # requests:
  #   cpu: 100m
  #   memory: 128Mi

# -- Node selector for Pod assignment
nodeSelector: {}

# -- Tolerations for Pod assignment
tolerations: []

# -- Affinity rules for Pod scheduling
affinity: {}

# -- Application configuration rendered into config.yaml and mounted into the container
config:
  # -- Port of the application
  port: 8080
  # -- Database configuration
  database:
    # -- Database driver (e.g., sqlite)
    type: sqlite
    # -- Connection string (':memory:' for in-memory SQLite)
    connectionString: "file:goframe.db?cache=shared&mode=rwc"
  # -- Fallback size used when rendering SVGs that lack explicit width/height
  # is set to 4k resolution with 4:3 aspect ratio
  svgFallbackWidth: 3072
  svgFallbackHeight:  4096
  # -- Timezone used for image rotation scheduling
  rotationTimezone: "UTC"
  # -- Thumbnail width for thumbnails in the frontend
  thumbnailWidth: 512
  # -- Processing pipeline configuration
  # Supported command names and parameters:
  # - OrientationCommand: orientation [portrait|landscape]
  # - ScaleCommand: height (int), width (int), edgeGradient (bool, optional; default false)
  # - PixelScaleCommand: height (int, optional), width (int, optional) - at least one must be provided
  # - CropCommand: height (int), width (int)
  # - PngConverterCommand: no parameters; enforces PNG output
  # - DitherCommand: palette (list of device/dither pairs), e.g. [[[0,0,0],[25,30,33]], [[255,255,255],[232,232,232]]]
  # Examples (uncomment to use):
  # - name: ScaleCommand
  #   height: 1920
  #   width: 1080
  #   edgeGradient: false
  # - name: PixelScaleCommand
  #   width: 1080
  # - name: CropCommand
  #   height: 1600
  #   width: 1200
  # - name: PngConverterCommand
  # - name: DitherCommand
  #   palette:
  #     - [[0, 0, 0],[25, 30, 33]]
  #     - [[255, 255, 255],[232, 232, 232]]
  commands:
    - name: OrientationCommand
      orientation: portrait
    - name: DitherCommand
      # -- If no palette is provided, DitherCommand defaults to black/white (device==dither)
      # To target multi-color EPDs, provide device/dither color pairs as shown in the examples above

# -- Extra environment variables to inject into the container
extraEnv: []
# - name: EXAMPLE
#   value: "value"

# -- Extra environment sources (e.g., ConfigMaps or Secrets)
extraEnvFrom: []
# - secretRef:
#     name: my-secret

# Raw config.yaml content (string). Prefer to inject via Helm --set-file configRaw=path/to/config.yaml
# If provided, charts/goframe/templates/configmap.yaml will render this verbatim and ignore .Values.config.
configRaw: ""
